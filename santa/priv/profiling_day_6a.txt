(emacs@miniak3)42> eprof:start().
{ok,<0.103.0>}
(emacs@miniak3)49> eprof:profile(fun santa:day_6a/0).
{ok,543903}
(emacs@miniak3)50> eprof:analyze(total).
FUNCTION                                  CALLS        %       TIME  [uS / CALLS]
--------                                  -----  -------       ----  [----------]
santa:day_6_input/0                           1     0.00          0  [      0.00]
sets:size/1                                   1     0.00          1  [      1.00]
sets:contract_segs/1                          1     0.00          1  [      1.00]
santa:day_6a/0                                1     0.00          1  [      1.00]
erlang:apply/2                                1     0.00          4  [      4.00]
sets:maybe_contract_segs/1                  188     0.00         51  [      0.27]
sets:fold/3                                 193     0.00         64  [      0.33]
string:tokens_single_1/3                    300     0.00         69  [      0.23]
sets:fold_set/3                             193     0.00        125  [      0.65]
sets:intersection/2                          99     0.00        134  [      1.35]
santa:get_command_and_coordinates/1         300     0.00        134  [      0.45]
sets:union/2                                193     0.00        167  [      0.87]
sets:filter/2                               404     0.00        168  [      0.42]
santa:day_6a/2                              301     0.00        201  [      0.67]
sets:mk_seg/1                               301     0.00        210  [      0.70]
sets:filter_set/2                           404     0.00        235  [      0.58]
sets:from_list/1                            300     0.00        240  [      0.80]
santa:get_coordinates/1                     300     0.00        262  [      0.87]
string:tokens/2                             301     0.00        293  [      0.97]
lists:subtract/2                            300     0.00        299  [      1.00]
string:tokens_multiple_1/3                 1500     0.00        307  [      0.20]
sets:new/0                                  301     0.00        310  [      1.03]
santa:update_set/4                          300     0.00        340  [      1.13]
santa:get_command/1                         300     0.00        345  [      1.15]
sets:subtract/2                             305     0.00        360  [      1.18]
santa:get_set/2                             300     0.00        373  [      1.24]
sets:maybe_contract/2                       404     0.00        392  [      0.97]
erlang:list_to_integer/1                   1200     0.00        393  [      0.33]
string:tokens_multiple_2/4                 5639     0.00        668  [      0.12]
lists:nth/2                                3600     0.00        784  [      0.22]
lists:prefix/2                             2954     0.00        859  [      0.29]
erlang:'--'/2                               300     0.00       1226  [      4.09]
lists:duplicate/2                          1131     0.00       1264  [      1.12]
sets:expand_segs/2                         2566     0.00       1464  [      0.57]
string:tokens_single_2/4                   9247     0.00       2209  [      0.24]
erlang:'++'/2                              1319     0.00       2394  [      1.82]
santa:'-get_set/2-lc$^0/1-0-'/3           82819     0.00      10564  [      0.13]
lists:seq/2                               82819     0.01      19853  [      0.24]
lists:duplicate/3                        337003     0.01      33163  [      0.10]
sets:fold_segs/4                         234703     0.02      71654  [      0.31]
sets:'-union/2-fun-0-'/2                 649879     0.03     125628  [      0.19]
sets:'-intersection/2-fun-0-'/2          676995     0.03     125951  [      0.19]
sets:filter_seg_list/4                  2613576     0.09     369377  [      0.14]
sets:fold_seg/4                         3986670     0.14     560635  [      0.14]
lists:reverse/1                         2613473     0.14     563843  [      0.22]
erlang:list_to_tuple/1                  2614707     0.15     573363  [      0.22]
lists:reverse/2                         2613877     0.20     778393  [      0.30]
lists:seq_loop/3                        4677441     0.20     796459  [      0.17]
erlang:tuple_to_list/1                  2614707     0.25     972098  [      0.37]
sets:maybe_expand_segs/1                3821338     0.26    1039276  [      0.27]
sets:'-intersection/2-fun-1-'/2         6172922     0.29    1145449  [      0.19]
sets:'-union/2-fun-1-'/2                8217030     0.42    1646592  [      0.20]
sets:fold_bucket/3                     12619069     0.61    2386171  [      0.19]
lists:foldl/3                          18247024     0.61    2419006  [      0.13]
sets:put_bucket_s/3                     7643052     0.64    2533339  [      0.33]
sets:add_element/2                     27113633     0.75    2953490  [      0.11]
sets:'-from_list/1-fun-0-'/2           18246724     0.86    3403203  [      0.19]
santa:'-get_set/2-lc$^1/1-1-'/5        18329243     0.98    3854215  [      0.21]
sets:maybe_expand/2                    27113633     1.08    4251416  [      0.16]
sets:filter_bkt_list/4                 44423924     1.24    4871177  [      0.11]
sets:'-add_element/2-fun-0-'/2         27113633     1.48    5809665  [      0.21]
sets:rehash/4                          31305519     1.69    6674949  [      0.21]
sets:on_bucket/3                       27113633     2.29    9021976  [      0.33]
lists:member/2                        102949896     3.45   13586194  [      0.13]
sets:get_bucket_s/2                   106764771     3.97   15628696  [      0.15]
sets:is_element/2                     102943057     4.68   18434803  [      0.18]
sets:'-subtract/2-fun-0-'/2            96093140     4.80   18885936  [      0.20]
sets:get_bucket/2                     102943057     4.84   19069549  [      0.19]
sets:add_bkt_el/3                     147099338     5.16   20321482  [      0.14]
sets:filter_bucket/4                  144753809     5.59   22007359  [      0.15]
erlang:phash/2                        157540871     5.77   22726915  [      0.14]
sets:get_slot/2                       130056690     7.63   30070526  [      0.23]
erlang:setelement/3                   119922485    39.63  156096548  [      1.30]
-----------------------------------  ----------  -------  ---------  [----------]
Total:                               1512381608  100.00%  393855260  [      0.26]
ok
(emacs@miniak3)51> 
